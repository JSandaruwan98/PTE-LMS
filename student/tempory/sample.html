<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Audio Duration Example</title>
  <!-- Include jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body>

  <audio id="questionAudio" controls>
    <source src="../rs-11.mp3" type="audio/mp3">
    Your browser does not support the audio tag.
  </audio>
  <button onclick="playAudio()">Play Audio</button>
  <span id="durationDisplay">Duration: </span>
  <p id="helloText"></p>

  <script>
    function playAudio() {
      var questionAudio = $('#questionAudio')[0];

      if (questionAudio) {
        questionAudio.removeEventListener('loadedmetadata', handleMetadataLoaded);
        questionAudio.addEventListener('loadedmetadata', handleMetadataLoaded);

        if (questionAudio.readyState >= 2) {
          questionAudio.dispatchEvent(new Event('loadedmetadata'));
        }

        questionAudio.play();
      } else {
        console.error("Audio element not found");
      }
    }

    function handleMetadataLoaded() {
      var duration = $('#questionAudio')[0].duration;
      console.log("Audio duration: " + duration + " seconds");

      
      setTimeout(function () {
        $('#helloText').text("Hello janitha");
      }, duration * 1000);
    }
  </script>

</body>

</html>
